<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock Paper Scissor</title>
  </head>
  <body>
    <script>
      const weakness = {
        scissor: "rock",
        paper: "scissor",
        rock: "paper",
      };

      function capitalize(word) {
        return `${word[0].toUpperCase()}${word.substr(1)}`;
      }

      function playRound(playerSelection, computerSelection) {
        const player = playerSelection.toLowerCase();
        const computer = computerSelection.toLowerCase();
        let result = "lose";

        if (player === computer) {
          result = "tie";
        } else if (player === weakness[computer]) {
          result = "win";
        }

        if (result === "tie") {
          return `Tie! Nobody win nobody lose`;
        } else {
          return `You ${capitalize(result)}! ${capitalize(player)} ${
            result === "lose" ? "beaten by" : "beats"
          } ${capitalize(computer)}`;
        }
      }

      function computerPlay() {
        const idx = Math.floor((Math.random() * 10) % 3);
        return Object.keys(weakness)[idx];
      }

      function game() {
        let playerSelection = prompt();

        for (let i = 0; i < 5; i++) {
          let computerSelection = computerPlay();

          console.log(playRound(playerSelection, computerSelection));
        }
      }
    </script>
  </body>
</html>
